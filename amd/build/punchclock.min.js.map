{"version":3,"file":"punchclock.min.js","sources":["../src/punchclock.js"],"sourcesContent":["export const init = () => {\n  document.addEventListener('DOMContentLoaded', () => {\n      const button = document.getElementById('punchclock-button');\n      if (button) {\n          button.addEventListener('click', async () => {\n              const punchclockid = button.dataset.punchclockid;\n              const courseid = button.dataset.courseid;\n\n              const response = await fetch(M.cfg.wwwroot + '/mod/punchclock/ajax.php', {\n                  method: 'POST',\n                  headers: { 'Content-Type': 'application/json' },\n                  body: JSON.stringify({ action: 'log_click', punchclockid, courseid })\n              });\n\n              if (response.ok) {\n                  const result = await response.json();\n                  if (result.success) {\n                      alert('Check-in saved!');\n                  } else {\n                      alert('Failed to save check-in.');\n                  }\n              }\n          });\n      }\n  });\n};"],"names":["document","addEventListener","button","getElementById","async","punchclockid","dataset","courseid","response","fetch","M","cfg","wwwroot","method","headers","body","JSON","stringify","action","ok","json","success","alert"],"mappings":"8JAAoB,KAClBA,SAASC,iBAAiB,oBAAoB,WACpCC,OAASF,SAASG,eAAe,qBACnCD,QACAA,OAAOD,iBAAiB,SAASG,gBACvBC,aAAeH,OAAOI,QAAQD,aAC9BE,SAAWL,OAAOI,QAAQC,SAE1BC,eAAiBC,MAAMC,EAAEC,IAAIC,QAAU,2BAA4B,CACrEC,OAAQ,OACRC,QAAS,gBAAkB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,OAAQ,YAAab,aAAAA,aAAcE,SAAAA,gBAG1DC,SAASW,GAAI,QACQX,SAASY,QACnBC,QACPC,MAAM,mBAENA,MAAM"}