{"version":3,"file":"datepicker.min.js","sources":["../src/datepicker.js"],"sourcesContent":["const datepicker = document.querySelector('.datepicker');\nconst dateInput = document.querySelector('.date-input');\nconst yearInput = datepicker.querySelector('.year-input');\nconst monthInput = datepicker.querySelector('.month-input');\nconst applyBtn = datepicker.querySelector('.apply');\nconst cancelBtn = datepicker.querySelector('.cancel');\nconst prevBtn = datepicker.querySelector(\".prev\");\nconst nextBtn = datepicker.querySelector(\".next\");\nconst dates = datepicker.querySelector(\".dates\");\n\nlet selectedDate = new Date();\nlet year = selectedDate.getFullYear();\nlet month = selectedDate.getMonth();\n\n/**\n * Updates the year and month input fields to match the currently selected date.\n */\nconst updateYearMonth = () => {\n    monthInput.selectedIndex = month;\n    yearInput.value = year;\n};\n\n/**\n * Handles the click event on a date button.\n *\n * @param {Event} event - The event object from the click event.\n */\nconst handleDateClick = (event) => {\n    event.preventDefault();\n    const button = event.target;\n\n    const selected = dates.querySelector('.selected');\n    if (selected) {\n        selected.classList.remove(\"selected\");\n    }\n\n    button.classList.add(\"selected\");\n\n    selectedDate = new Date(year, month, parseInt(button.textContent));\n};\n\n/**\n * Displays the calendar dates for the selected month and year.\n */\nconst displayDates = () => {\n    updateYearMonth();\n    dates.innerHTML = \"\";\n\n    const lastOfPrevMonth = new Date(year, month, 0);\n\n    for (let i = 0; i <= lastOfPrevMonth.getDay(); i++) {\n        const text = lastOfPrevMonth.getDate() - lastOfPrevMonth.getDay() + i;\n        const button = createBtn(text, true, false);\n        dates.appendChild(button);\n    }\n\n    const lastOfMonth = new Date(year, month + 1, 0);\n\n    for (let i = 1; i <= lastOfMonth.getDate(); i++) {\n        const isToday =\n            selectedDate.getDate() === i &&\n            selectedDate.getFullYear() === year &&\n            selectedDate.getMonth() === month;\n\n        const button = createBtn(i, false, isToday);\n        button.addEventListener(\"click\", handleDateClick);\n        dates.appendChild(button);\n    }\n\n    const firstOfNextMonth = new Date(year, month + 1, 1);\n\n    for (let i = firstOfNextMonth.getDay(); i < 7; i++) {\n        const text = firstOfNextMonth.getDate() - firstOfNextMonth.getDay() + i;\n        const button = createBtn(text, true, false);\n        dates.appendChild(button);\n    }\n};\n\n/**\n * Creates a button element for a date.\n *\n * @param {number} text - The text content of the button (day of the month).\n * @param {boolean} [isDisabled=false] - Whether the button should be disabled.\n * @param {boolean} [isToday=false] - Whether the button represents today's date.\n * @returns {HTMLButtonElement} - The created button element.\n */\nconst createBtn = (text, isDisabled = false, isToday = false) => {\n    const btn = document.createElement('button');\n    btn.textContent = text;\n    btn.disabled = isDisabled;\n    btn.classList.toggle(\"today\", isToday);\n\n    return btn;\n};\n\ndefine([], function() {\n    return {\n        init: function() {\n            displayDates();\n\n            monthInput.addEventListener('change', (event) => {\n                event.preventDefault();\n                month = monthInput.selectedIndex;\n                displayDates();\n            });\n\n            yearInput.addEventListener('change', (event) => {\n                event.preventDefault();\n                year = yearInput.value;\n                displayDates();\n            });\n\n            nextBtn.addEventListener('click', (event) => {\n                event.preventDefault();\n                if (month === 11) {\n                    year++;\n                }\n                month = (month + 1) % 12;\n                displayDates();\n            });\n\n            prevBtn.addEventListener('click', (event) => {\n                event.preventDefault();\n                if (month === 0) {\n                    year--;\n                }\n                month = (month - 1 + 12) % 12;\n                displayDates();\n            });\n\n            dateInput.addEventListener('click', (event) => {\n                event.preventDefault();\n                datepicker.hidden = !datepicker.hidden;\n            });\n\n            applyBtn.addEventListener('click', (event) => {\n                event.preventDefault();\n\n                const unixTimestamp = Math.floor(Date.UTC(\n                    selectedDate.getFullYear(),\n                    selectedDate.getMonth(),\n                    selectedDate.getDate(),\n                    selectedDate.getHours(),\n                    selectedDate.getMinutes(),\n                    selectedDate.getSeconds()\n                ) / 1000);\n\n                const url = new URL(window.location);\n                const params = new URLSearchParams(url.search);\n\n                params.set(\"date\", unixTimestamp);\n\n                window.location.href = `${url.pathname}?${params.toString()}`;\n\n                datepicker.hidden = true;\n            });\n\n            cancelBtn.addEventListener('click', (event) => {\n                event.preventDefault();\n                datepicker.hidden = true;\n            });\n        }\n    };\n});"],"names":["datepicker","document","querySelector","dateInput","yearInput","monthInput","applyBtn","cancelBtn","prevBtn","nextBtn","dates","selectedDate","Date","year","getFullYear","month","getMonth","handleDateClick","event","preventDefault","button","target","selected","classList","remove","add","parseInt","textContent","displayDates","selectedIndex","value","innerHTML","lastOfPrevMonth","i","getDay","text","getDate","createBtn","appendChild","lastOfMonth","isToday","addEventListener","firstOfNextMonth","isDisabled","btn","createElement","disabled","toggle","define","init","hidden","unixTimestamp","Math","floor","UTC","getHours","getMinutes","getSeconds","url","URL","window","location","params","URLSearchParams","search","set","href","pathname","toString"],"mappings":"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"}